{"ast":null,"code":"var _jsxFileName = \"/Users/jorgezozaya/Downloads/Abaraja\\u0301me/freelance/my-app-wp-test/src/components/FormUserDetails.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Header } from './Header';\nimport { Formik, Form, Field } from 'formik';\nimport * as yup from 'yup';\nimport axios from \"axios\";\nexport const FormUserDetails = ({\n  formData,\n  setFormData,\n  nextStep\n}) => {\n  const tokenEndPoint = 'https://kingtote.vonigo.com/api/v1/security/login/?appVersion=1company=Vonigo&password=a8b58ed9ef2fffb4a5ddb88626fa2727&userName=King.tote';\n  const [tokenGenerated, setTokenGenerated] = useState(null);\n  const [franchises, setFranchises] = useState(null);\n  const [load, setLoad] = useState(false);\n  const [error, setError] = useState('');\n  let listFranchises = '';\n  useEffect(() => {\n    axios.get(tokenEndPoint).then(res => {\n      if (res.data !== null) {\n        setFormData({ ...formData,\n          'securityToken': res.data.securityToken\n        });\n      }\n\n      setTokenGenerated(res.data.securityToken);\n      setLoad(true);\n    }).catch(err => {\n      setError(err.message);\n      setLoad(true);\n    });\n  }, []);\n  useEffect(() => {\n    let franchisesEndPoint = 'https://kingtote.vonigo.com/api/v1/resources/franchises/?securityToken=' + tokenGenerated + '&pageNo=1&pageSize=50&method=0';\n    axios.get(franchisesEndPoint).then(res => {\n      if (res.data !== null) {\n        setFranchises(res.data.Franchises);\n      }\n\n      setLoad(true);\n    }).catch(err => {\n      setError(err.message);\n      setLoad(true);\n    });\n  }, [tokenGenerated]);\n  useEffect(() => {\n    console.log('aca crea las franchises', franchises);\n\n    if (franchises) {\n      listFranchises = franchises.map((itemFranchise, index) => {\n        return React.createElement(\"option\", {\n          key: itemFranchise.franchiseID,\n          value: itemFranchise.franchiseID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, itemFranchise.franchiseName);\n      });\n    }\n  }, [franchises]);\n  const validationSchemaFirstStep = yup.object({\n    locationType: yup.string().required('Pick up is required'),\n    serviceArea: yup.string().required('Service Area is required'),\n    pickUp: yup.number().positive().integer().required('Pick up is required')\n  });\n\n  const validateZipCode = value => {\n    let stringValue = value + '';\n    let error;\n\n    if (!value) {\n      error = 'Drop off required';\n    } else if (stringValue.length > 5) {\n      error = 'postal code is 5 digits';\n    } else if (stringValue.length < 5) {\n      error = 'postal code is 5 digits';\n    }\n\n    return error;\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    title: \"Enter Personal Details\",\n    step: \"One\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"introWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Welcome\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Get started by selecting a service area to verify we service your zip codes.\")), React.createElement(Formik, {\n    initialValues: formData,\n    onSubmit: values => {\n      setFormData(values);\n      nextStep();\n    },\n    validationSchema: validationSchemaFirstStep,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, ({\n    errors,\n    touched\n  }) => React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"formControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"nameImput\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Service Area\"), React.createElement(Field, {\n    as: \"select\",\n    name: \"serviceArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"select a service area\"), listFranchises), errors.serviceArea && touched.serviceArea && React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, errors.serviceArea)), React.createElement(\"div\", {\n    className: \"formControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"formControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"dropOff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Drop-off Zip Code\"), React.createElement(Field, {\n    name: \"dropOff\",\n    placeholder: \"zip code\",\n    type: \"number\",\n    validate: validateZipCode,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), errors.dropOff && touched.dropOff && React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, errors.dropOff)), React.createElement(\"div\", {\n    className: \"formControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"pickUp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Pick-up Zip Code\"), React.createElement(Field, {\n    name: \"pickUp\",\n    placeholder: \"zip code\",\n    type: \"number\",\n    validate: validateZipCode,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), errors.pickUp && touched.pickUp && React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, errors.pickUp)), React.createElement(\"div\", {\n    className: \"formControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"locationResidential\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Location type\"), React.createElement(\"div\", {\n    className: \"ratioWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(Field, {\n    id: \"locationResidential\",\n    name: \"locationType\",\n    type: \"radio\",\n    value: \"residential\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"locationResidential\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Residential\")), React.createElement(\"div\", {\n    className: \"ratioWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Field, {\n    id: \"locationCommertial\",\n    name: \"locationType\",\n    type: \"radio\",\n    value: \"commertial\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"locationCommertial\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Commertial\")), errors.locationType && touched.locationType && React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, errors.locationType)), React.createElement(\"div\", {\n    className: \"formControl submitControl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button global\",\n    name: \"submit\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Next\"))))));\n}; // FormUserDetails.propTypes = {\n//   formData: PropTypes.object.isRequired,\n//   setFormData: PropTypes.func.isRequired,\n//   nextStep: PropTypes.func.isRequired\n// };\n// const mapStateToProps = state => {\n//   return{\n//     localCounter: state.counter\n//   }\n// }\n// const mapDispatchToProps = state => {\n//   return{\n//     onIncrementCounter: () => dispatch({type: 'INCREMENT'})\n//   }\n// }\n// export default connect(mapStateToProps, mapDispatchToProps)(FormUserDetails);","map":{"version":3,"sources":["/Users/jorgezozaya/Downloads/AbarajaÃÅme/freelance/my-app-wp-test/src/components/FormUserDetails.js"],"names":["React","useState","useEffect","Header","Formik","Form","Field","yup","axios","FormUserDetails","formData","setFormData","nextStep","tokenEndPoint","tokenGenerated","setTokenGenerated","franchises","setFranchises","load","setLoad","error","setError","listFranchises","get","then","res","data","securityToken","catch","err","message","franchisesEndPoint","Franchises","console","log","map","itemFranchise","index","franchiseID","franchiseName","validationSchemaFirstStep","object","locationType","string","required","serviceArea","pickUp","number","positive","integer","validateZipCode","value","stringValue","length","values","errors","touched","dropOff"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,QAApC;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,WAAZ;AAAyBC,EAAAA;AAAzB,CAAD,KAAyC;AAEtE,QAAMC,aAAa,GAAG,4IAAtB;AAEA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCd,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACiB,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;AACA,MAAIqB,cAAc,GAAG,EAArB;AAEApB,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,KAAK,CAACe,GAAN,CAAUV,aAAV,EACOW,IADP,CACYC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACC,IAAJ,KAAa,IAAhB,EAAqB;AACnBf,QAAAA,WAAW,CAAC,EACV,GAAGD,QADO;AAEV,2BAAiBe,GAAG,CAACC,IAAJ,CAASC;AAFhB,SAAD,CAAX;AAID;;AACDZ,MAAAA,iBAAiB,CAACU,GAAG,CAACC,IAAJ,CAASC,aAAV,CAAjB;AACAR,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAVP,EAWOS,KAXP,CAWaC,GAAG,IAAI;AACVR,MAAAA,QAAQ,CAACQ,GAAG,CAACC,OAAL,CAAR;AACAX,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAdP;AAgBH,GAjBQ,EAiBN,EAjBM,CAAT;AAmBAjB,EAAAA,SAAS,CAAC,MAAM;AAEd,QAAI6B,kBAAkB,GAAG,4EAA2EjB,cAA3E,GAA4F,gCAArH;AAEAN,IAAAA,KAAK,CAACe,GAAN,CAAUQ,kBAAV,EACSP,IADT,CACcC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACC,IAAJ,KAAa,IAAhB,EAAqB;AACnBT,QAAAA,aAAa,CAACQ,GAAG,CAACC,IAAJ,CAASM,UAAV,CAAb;AACD;;AACDb,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KANT,EAOSS,KAPT,CAOeC,GAAG,IAAI;AACVR,MAAAA,QAAQ,CAACQ,GAAG,CAACC,OAAL,CAAR;AACAX,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAVT;AAYD,GAhBQ,EAgBN,CAACL,cAAD,CAhBM,CAAT;AAmBAZ,EAAAA,SAAS,CAAC,MAAM;AAEd+B,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuClB,UAAvC;;AAEA,QAAGA,UAAH,EAAc;AACZM,MAAAA,cAAc,GAAGN,UAAU,CAACmB,GAAX,CAAe,CAACC,aAAD,EAAgBC,KAAhB,KAA0B;AACxD,eAAO;AAAQ,UAAA,GAAG,EAAED,aAAa,CAACE,WAA3B;AAAwC,UAAA,KAAK,EAAEF,aAAa,CAACE,WAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA2EF,aAAa,CAACG,aAAzF,CAAP;AACD,OAFgB,CAAjB;AAGD;AAEF,GAVQ,EAUN,CAACvB,UAAD,CAVM,CAAT;AAYA,QAAMwB,yBAAyB,GAAGjC,GAAG,CAACkC,MAAJ,CAAW;AAC3CC,IAAAA,YAAY,EAAEnC,GAAG,CACdoC,MADW,GAEXC,QAFW,CAEF,qBAFE,CAD6B;AAI3CC,IAAAA,WAAW,EAAEtC,GAAG,CACboC,MADU,GAEVC,QAFU,CAED,0BAFC,CAJ8B;AAO3CE,IAAAA,MAAM,EAAEvC,GAAG,CACRwC,MADK,GAELC,QAFK,GAGLC,OAHK,GAILL,QAJK,CAII,qBAJJ;AAPmC,GAAX,CAAlC;;AAcA,QAAMM,eAAe,GAAGC,KAAK,IAAI;AAC/B,QAAIC,WAAW,GAAGD,KAAK,GAAG,EAA1B;AACA,QAAI/B,KAAJ;;AACE,QAAI,CAAC+B,KAAL,EAAY;AACV/B,MAAAA,KAAK,GAAG,mBAAR;AACD,KAFD,MAEO,IAAIgC,WAAW,CAACC,MAAZ,GAAqB,CAAzB,EAA4B;AACjCjC,MAAAA,KAAK,GAAG,yBAAR;AACD,KAFM,MAEA,IAAIgC,WAAW,CAACC,MAAZ,GAAqB,CAAzB,EAA4B;AACjCjC,MAAAA,KAAK,GAAG,yBAAR;AACD;;AACD,WAAOA,KAAP;AACH,GAXD;;AAYA,SACE,0CACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,wBAAd;AAAuC,IAAA,IAAI,EAAC,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFAFF,CAHF,EAOE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAEV,QADjB;AAEE,IAAA,QAAQ,EAAE4C,MAAM,IAAI;AAClB3C,MAAAA,WAAW,CAAC2C,MAAD,CAAX;AACA1C,MAAAA,QAAQ;AACT,KALH;AAME,IAAA,gBAAgB,EAAE4B,yBANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQG,CAAC;AAAEe,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,KACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,KAAD;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,IAAI,EAAC,aAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJJ,EAKKlC,cALL,CAFF,EAaGiC,MAAM,CAACV,WAAP,IAAsBW,OAAO,CAACX,WAA9B,IAA6C;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BU,MAAM,CAACV,WAAtC,CAbhD,CADF,EAgBE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,EAiBE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,IAAA,QAAQ,EAAEK,eAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQKK,MAAM,CAACE,OAAP,IAAkBD,OAAO,CAACC,OAA1B,IAAqC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BF,MAAM,CAACE,OAAtC,CAR1C,CAjBF,EA2BE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,IAAA,QAAQ,EAAEP,eAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQKK,MAAM,CAACT,MAAP,IAAiBU,OAAO,CAACV,MAAzB,IAAmC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BS,MAAM,CAACT,MAAtC,CARxC,CA3BF,EAqCE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,EAAE,EAAC,qBADL;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAC,aAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAO,IAAA,OAAO,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,CAFF,EAWE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,EAAE,EAAC,oBADL;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAC,YAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAO,IAAA,OAAO,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAXF,EAoBGS,MAAM,CAACb,YAAP,IAAuBc,OAAO,CAACd,YAA/B,IAA+C;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+Ba,MAAM,CAACb,YAAtC,CApBlD,CArCF,EA2DE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,eAAlB;AAAkC,IAAA,IAAI,EAAC,QAAvC;AAAgD,IAAA,IAAI,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF,CA3DF,CATJ,CAPF,CADF;AAsFD,CA5KM,C,CA8KP;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Header } from './Header';\nimport { Formik, Form, Field } from 'formik';\nimport * as yup from 'yup';\nimport axios from \"axios\";\n\nexport const FormUserDetails = ({ formData, setFormData, nextStep }) => {\n\n  const tokenEndPoint = 'https://kingtote.vonigo.com/api/v1/security/login/?appVersion=1company=Vonigo&password=a8b58ed9ef2fffb4a5ddb88626fa2727&userName=King.tote'\n  \n  const [tokenGenerated, setTokenGenerated] = useState(null);\n  const [franchises, setFranchises] = useState(null);\n  const [load, setLoad] = useState(false);\n  const [error, setError] = useState('');\n  let listFranchises = ''\n\n  useEffect(() => {\n      axios.get(tokenEndPoint)\n            .then(res => {\n              if(res.data !== null){\n                setFormData({\n                  ...formData,\n                  'securityToken': res.data.securityToken\n                });\n              }\n              setTokenGenerated(res.data.securityToken);\n              setLoad(true);\n            })\n            .catch(err => {\n                setError(err.message);\n                setLoad(true)\n            })\n          \n  }, []);\n\n  useEffect(() => {\n\n    let franchisesEndPoint = 'https://kingtote.vonigo.com/api/v1/resources/franchises/?securityToken='+ tokenGenerated + '&pageNo=1&pageSize=50&method=0'\n    \n    axios.get(franchisesEndPoint)\n            .then(res => {\n              if(res.data !== null){\n                setFranchises(res.data.Franchises)\n              }\n              setLoad(true);\n            })\n            .catch(err => {\n                setError(err.message);\n                setLoad(true)\n            })\n    \n  }, [tokenGenerated]);\n\n\n  useEffect(() => {\n\n    console.log('aca crea las franchises', franchises)\n    \n    if(franchises){\n      listFranchises = franchises.map((itemFranchise, index) => {\n        return <option key={itemFranchise.franchiseID} value={itemFranchise.franchiseID}>{itemFranchise.franchiseName}</option>\n      });\n    }\n\n  }, [franchises]);\n\n  const validationSchemaFirstStep = yup.object({\n    locationType: yup\n      .string()\n      .required('Pick up is required'),\n    serviceArea: yup\n      .string()\n      .required('Service Area is required'),\n    pickUp: yup\n      .number()\n      .positive()\n      .integer()\n      .required('Pick up is required'),\n  });\n\n  const validateZipCode = value => {\n    let stringValue = value + ''\n    let error;\n      if (!value) {\n        error = 'Drop off required';\n      } else if (stringValue.length > 5) {\n        error = 'postal code is 5 digits';\n      } else if (stringValue.length < 5) {\n        error = 'postal code is 5 digits';\n      }\n      return error;\n  };\n  return (\n    <>\n      <Header title='Enter Personal Details' step=\"One\" />\n\n      <div className=\"introWrap\">\n        <h2>Welcome</h2>\n        <p>Get started by selecting a service area to verify we service your zip codes.</p>\n      </div>\n      <Formik\n        initialValues={formData}\n        onSubmit={values => {\n          setFormData(values);\n          nextStep();\n        }}\n        validationSchema={validationSchemaFirstStep}\n        >\n        {({ errors, touched }) => (\n          <Form>\n            <div className=\"formControl\">\n              <label htmlFor=\"nameImput\">Service Area</label>\n              <Field \n                as=\"select\" \n                name=\"serviceArea\"\n                >\n                  <option value=\"\">select a service area</option>\n                  {listFranchises}\n                  {/* <option value=\"Portland\">Portland</option>\n                  <option value=\"Washington\">Washington</option>\n                  <option value=\"Seattle\">Seattle</option>\n                  <option value=\"Nevada\">Nevada</option> */}\n              </Field>\n              {errors.serviceArea && touched.serviceArea && <div className=\"errorMessage\">{errors.serviceArea}</div>}\n            </div>\n            <div className=\"formControl\"></div>\n            <div className=\"formControl\">\n              <label htmlFor=\"dropOff\">Drop-off Zip Code</label>\n              <Field \n                name='dropOff' \n                placeholder=\"zip code\"\n                type=\"number\"\n                validate={validateZipCode}\n                />\n                {errors.dropOff && touched.dropOff && <div className=\"errorMessage\">{errors.dropOff}</div>}\n            </div>\n            <div className=\"formControl\">\n              <label htmlFor=\"pickUp\">Pick-up Zip Code</label>\n              <Field \n                name='pickUp' \n                placeholder=\"zip code\"\n                type=\"number\"\n                validate={validateZipCode}\n                />\n                {errors.pickUp && touched.pickUp && <div className=\"errorMessage\">{errors.pickUp}</div>}\n            </div>\n            <div className=\"formControl\">\n              <label htmlFor=\"locationResidential\">Location type</label>\n              <div className=\"ratioWrap\">\n                <Field \n                  id=\"locationResidential\"\n                  name='locationType'\n                  type=\"radio\"\n                  value=\"residential\"\n                />\n                <label htmlFor=\"locationResidential\">Residential</label>\n              </div>\n              <div className=\"ratioWrap\">\n                <Field \n                  id=\"locationCommertial\"\n                  name='locationType'\n                  type=\"radio\"\n                  value=\"commertial\"\n                />\n                <label htmlFor=\"locationCommertial\">Commertial</label>\n              </div>\n              {errors.locationType && touched.locationType && <div className=\"errorMessage\">{errors.locationType}</div>}\n            </div>\n            <div className=\"formControl submitControl\">\n              <button className=\"button global\" name=\"submit\" type=\"submit\">\n                <span>Next</span>\n              </button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n};\n\n// FormUserDetails.propTypes = {\n//   formData: PropTypes.object.isRequired,\n//   setFormData: PropTypes.func.isRequired,\n//   nextStep: PropTypes.func.isRequired\n// };\n\n\n// const mapStateToProps = state => {\n//   return{\n//     localCounter: state.counter\n//   }\n// }\n\n// const mapDispatchToProps = state => {\n//   return{\n//     onIncrementCounter: () => dispatch({type: 'INCREMENT'})\n//   }\n\n// }\n\n\n// export default connect(mapStateToProps, mapDispatchToProps)(FormUserDetails);"]},"metadata":{},"sourceType":"module"}